<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Purchase - Crownd</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .text-transition {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
      transition: all 0.8s ease-out;
    }

    .text-transition.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .fade-in {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.8s ease-out;
    }

    .fade-in.show {
      opacity: 1;
      transform: translateY(0);
    }
  </style>
  <script>
    fetch("../assets/html/header.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("header-placeholder").innerHTML = html;

        // Re-evaluate scripts inside the injected HTML
        const temp = document.createElement("div");
        temp.innerHTML = html;
        const scripts = temp.querySelectorAll("script");
        scripts.forEach((oldScript) => {
          const newScript = document.createElement("script");
          if (oldScript.src) {
            newScript.src = oldScript.src;
          } else {
            newScript.textContent = oldScript.textContent;
          }
          document.body.appendChild(newScript);
        });
      });

    fetch("../assets/html/footer.html")
      .then(res => res.text())
      .then(data => {
        document.getElementById('footer-placeholder').innerHTML = data;
      });
  </script>
</head>

<body class="bg-gray-100">

  <!-- HEADER -->
  <div id="header-placeholder"></div>

  <!-- SCROLL TRANSITION SECTION -->
  <section class="relative h-[200vh] bg-cover bg-center"
    style="background-image: url('https://images.unsplash.com/photo-1600585154340-be6161a56a0c');">
    <div class="sticky top-0 h-screen flex flex-col justify-center items-center text-center px-6">
      <h1 id="firstText" class="text-5xl font-bold text-white mb-8 text-transition">It's CROWND.</h1>
      <div id="secondText" class="flex flex-col items-center gap-4 text-transition">
        <h2 class="text-4xl font-bold text-white">We create PACKAGE LIABILITY.</h2>
        <h3 class="text-xl italic text-white">Show project.</h3>
        <button
          class="mt-4 bg-yellow-400 text-black px-6 py-2 rounded-full shadow hover:scale-105 transition-transform">Sell
          Property</button>
      </div>
    </div>
  </section>

  <!-- Section 2 -->
  <section class="flex flex-col md:flex-row items-center justify-center gap-10 px-10 py-20 max-w-6xl mx-auto text-center">
    <img src="/assets/images/marcel-strauss-vTrMLXrgtqg-unsplash.jpg"
      class="w-full md:w-1/2 rounded-lg shadow-md">
    <div class="md:w-1/2">
      <h2 class="text-3xl font-semibold mb-4">In the best hands.</h2>
      <p class="text-gray-700 leading-relaxed">We are always looking for exceptional real estate. If you are interested
        in the sale of your property and place the highest demands on discretion and professionalism in the handling,
        we look forward to hearing from you. With our know-how and many years of experience, we are the right contact
        for your real estate sale.</p>
    </div>
  </section>

  <!-- Cascaded Images Section -->
  <section class="px-10 py-20 max-w-6xl mx-auto">
    <h2 class="text-3xl font-semibold mb-10 text-center">Discover Our Properties</h2>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <img src="https://images.unsplash.com/photo-1568605114967-8130f3a36994"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300">
      <img src="https://images.unsplash.com/photo-1570129477492-45c003edd2be"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300 mt-10">
      <img src="/assets/images/mika-baumeister-PL7K02i4s9g-unsplash.jpg"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300 -mt-6">
      <img src="/assets/images/house4.jpg.jpg"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300">
      <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300 -mt-8">
      <img src="/assets/images/house11.jpg.jpg"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300 mt-12">
      <img src="/assets/images/house15.jpg.jpg"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300 -mt-4">
      <img src="/assets/images/house2.jpg.jpg"
        class="rounded-lg shadow-lg transform hover:scale-105 transition duration-300">
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="px-10 py-20 max-w-2xl mx-auto fade-in" id="contactFormSection">
    <h2 class="text-3xl font-semibold mb-6 text-center">We look forward to hearing from you</h2>
    <form id="contactForm" class="flex flex-col gap-6">
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Salutation</label>
        <select class="border border-gray-300 rounded px-4 py-2" required>
          <option value="">Select</option>
          <option>Mr.</option>
          <option>Mrs.</option>
          <option>Miss</option>
          <option>Dr.</option>
        </select>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Title</label>
        <input type="text" class="border border-gray-300 rounded px-4 py-2" placeholder="Title" required>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">First Name</label>
        <input type="text" class="border border-gray-300 rounded px-4 py-2" placeholder="First Name" required>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Surname</label>
        <input type="text" class="border border-gray-300 rounded px-4 py-2" placeholder="Surname" required>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Telephone Number</label>
        <input type="tel" class="border border-gray-300 rounded px-4 py-2" placeholder="Phone Number" required>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Email</label>
        <input type="email" class="border border-gray-300 rounded px-4 py-2" placeholder="Email" required>
      </div>
      <div class="flex flex-col">
        <label class="mb-2 text-sm font-medium">Message</label>
        <textarea rows="4" class="border border-gray-300 rounded px-4 py-2" placeholder="Your message" required></textarea>
      </div>
      <div class="flex justify-center">
        <button type="submit" class="bg-black text-white px-6 py-2 rounded hover:bg-gray-800">Submit</button>
      </div>
    </form>
  </section>

  <div id="footer-placeholder"></div>

  <script src="./assets/js/purchase.js"></script>

  <!-- IntersectionObserver to handle fade-in effect on scroll for contact form -->
  <script>
    // IntersectionObserver to handle the fade-in effect when the section scrolls into view
    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("show");
        } else {
          entry.target.classList.remove("show");
        }
      });
    }, {
      threshold: 0.5 // Trigger when 50% of the section is visible
    });

    const formSection = document.querySelector("#contactFormSection");
    observer.observe(formSection);

    // Scroll transition for text elements
    const scrollElements = document.querySelectorAll('.text-transition');
    const scrollObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('show');
        } else {
          entry.target.classList.remove('show');
        }
      });
    });

    scrollElements.forEach(element => {
      scrollObserver.observe(element);
    });

    // Dynamically change text on scroll
    window.addEventListener('scroll', function () {
      const scrollPosition = window.scrollY;
      const firstText = document.getElementById('firstText');
      const secondText = document.getElementById('secondText');

      // Adjust the transition based on scroll position
      if (scrollPosition > 200) {
        firstText.style.opacity = 0;
        secondText.style.opacity = 1;
      } else {
        firstText.style.opacity = 1;
        secondText.style.opacity = 0;
      }
    });
  </script>

</body>

</html>
